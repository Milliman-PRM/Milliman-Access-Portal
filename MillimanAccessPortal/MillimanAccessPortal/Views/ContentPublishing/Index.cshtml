@{
    /*
     * CODE OWNERS: Mike Reisz, Kelsie Stevenson
     * OBJECTIVE: Provide an interface for uploading and updating content
     * DEVELOPER NOTES:
     */

    ViewData["Title"] = "Content Publishing";
    Layout = "_Layout_w_NB_H_F";
    ViewData["NavIcon"] = "ContentPublisher";
}


@section CSS {
    <environment names="Development,CI">
        <link rel="stylesheet" href="~/lib/selectize/dist/css/selectize.default.css" />
    </environment>
    <environment names="Staging,Production">
        <link rel="stylesheet" href="~/lib/selectize/dist/css/selectize.default.min.css" />
    </environment>
}


<div id="client-tree" class="admin-panel-container flex-item-12-12 flex-item-for-tablet-up-3-12">
    <div class="loading-wrapper" style="display: none;">
        @Html.Partial("~/Views/ContentPublishing/templates/_Loader.cshtml")
    </div>
    <h3 class="admin-panel-header">Client Tree</h3>
    <div class="admin-panel-toolbar">
        <input id="client-search-box" class="admin-panel-searchbar" type="search" placeholder="Filter Clients" />
    </div>
    <div id="client-tree" class="admin-panel-content-container">
        <ul id="client-tree-list" class="admin-panel-content"></ul>
    </div>
</div>

<button value="1" onclick="test1(value);">Tom&#39;s Test Button 1</button>
<button value="2" onclick="test1(value);">Tom&#39;s Test Button 2</button>
<script type="text/javascript">
    function test1(Value) {
        $.ajax({
            type: 'POST',
            url: 'ContentPublishing/RequestContentPublication',
            data: {
                "FileName": "xyz",
                "RootContentId": Value
            },
            headers: {
                RequestVerificationToken: $("input[name='__RequestVerificationToken']").val()
            }
        }).done(function onDone(response) {
            toastr.success($cardContainer.find('.card-body-primary-text').html() + ' was ' + (modifiedRole.IsAssigned ? 'set' : 'unset') + ' as ' + modifiedRole.RoleDisplayValue);
        }).fail(function onFail(response) {
            toastr.warning(response.getResponseHeader('Warning'));
        });
    }
</script>

@section Scripts {

    @Html.Partial("~/Views/ContentPublishing/templates/_Node.cshtml")

    <environment names="Development,CI">
        <script src="~/lib/selectize/dist/js/standalone/selectize.js"></script>
        <script src="~/lib/typeahead.js/dist/typeahead.jquery.js"></script>
        <script src="~/js/content-publisher.js"></script>
    </environment>
    <environment names="Staging,Production">
        <script src="~/lib/selectize/dist/js/standalone/selectize.min.js"></script>
        <script src="~/lib/typeahead.js/dist/typeahead.jquery.min.js"></script>
        <script src="~/js/content-publisher.min.js"></script>
    </environment>

}
